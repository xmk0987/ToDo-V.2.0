{"ast":null,"code":"var _jsxFileName = \"/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { BaseUrlProvider } from \"./utils/providers/urlprovider\";\nimport { useActiveRoute } from \"./utils/providers/ActiveRouteContext\";\nimport { getStudent } from './services/student/student';\nimport LoginRoutes from \"./Routes/loginRoutes\";\nimport AdminRoutes from \"./Routes/adminRoutes\";\nimport StudentRoutes from \"./Routes/studentRoutes\";\nimport isStudentAuthenticated from \"./utils/authentication/studentAuthentication\";\nimport isAuthenticated from \"./utils/authentication/adminauth\";\nimport './styles/Main.css';\nimport './styles/color.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const BASE_FETCH_URL = \"http://localhost:8888\";\n  const {\n    activeRoute,\n    setActiveRoute\n  } = useActiveRoute();\n  const navigate = useNavigate();\n  const token = window.localStorage.getItem(\"token\");\n  const adminStatus = window.localStorage.getItem(\"admin\");\n  const username = window.localStorage.getItem(\"username\");\n  const goToRoute = useCallback(async () => {\n    navigate(`/${activeRoute}`);\n  }, [navigate, activeRoute]);\n  useEffect(() => {\n    if (adminStatus === \"true\" && isAuthenticated()) {\n      setActiveRoute(\"adminHome\");\n    } else if (adminStatus === \"false\" && isStudentAuthenticated()) {\n      setActiveRoute(\"studentHome\");\n    } else {\n      setActiveRoute(\"login\");\n    }\n    //eslint-disable-next-line\n  }, [adminStatus, token, isAuthenticated(), isStudentAuthenticated()]);\n  useEffect(() => {\n    goToRoute();\n    //eslint-disable-next-line\n  }, [activeRoute]);\n  return /*#__PURE__*/_jsxDEV(BaseUrlProvider, {\n    baseUrl: BASE_FETCH_URL,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-container \",\n      children: activeRoute === \"adminHome\" ? /*#__PURE__*/_jsxDEV(AdminRoutes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this) : activeRoute === \"studentHome\" ? /*#__PURE__*/_jsxDEV(StudentRoutes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this) : activeRoute === \"login\" ? /*#__PURE__*/_jsxDEV(LoginRoutes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dd2/P3n4GBTownOa1zKQph5lARQ=\", false, function () {\n  return [useActiveRoute, useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useCallback","useEffect","useNavigate","BaseUrlProvider","useActiveRoute","getStudent","LoginRoutes","AdminRoutes","StudentRoutes","isStudentAuthenticated","isAuthenticated","jsxDEV","_jsxDEV","App","_s","BASE_FETCH_URL","activeRoute","setActiveRoute","navigate","token","window","localStorage","getItem","adminStatus","username","goToRoute","baseUrl","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/App.js"],"sourcesContent":["import React, { useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { BaseUrlProvider } from \"./utils/providers/urlprovider\";\nimport { useActiveRoute } from \"./utils/providers/ActiveRouteContext\";\n\nimport { getStudent } from './services/student/student'\n\nimport LoginRoutes from \"./Routes/loginRoutes\";\nimport AdminRoutes from \"./Routes/adminRoutes\";\nimport StudentRoutes from \"./Routes/studentRoutes\";\n\nimport isStudentAuthenticated from \"./utils/authentication/studentAuthentication\";\nimport isAuthenticated from \"./utils/authentication/adminauth\";\n\nimport './styles/Main.css';\nimport './styles/color.css';\n\nfunction App() {\n  const BASE_FETCH_URL = \"http://localhost:8888\";\n  const { activeRoute, setActiveRoute } = useActiveRoute();\n\n  const navigate = useNavigate();\n\n  const token = window.localStorage.getItem(\"token\");\n  const adminStatus = window.localStorage.getItem(\"admin\");\n  const username = window.localStorage.getItem(\"username\");\n\n\n  const goToRoute = useCallback( async () => {\n      navigate(`/${activeRoute}`);\n    \n  }, [navigate, activeRoute,]);\n\n  useEffect(() => {\n    if (adminStatus === \"true\" && isAuthenticated()) {\n      setActiveRoute(\"adminHome\");\n    } else if (adminStatus === \"false\" && isStudentAuthenticated()) {\n      setActiveRoute(\"studentHome\");\n    } else {\n      setActiveRoute(\"login\");\n    }\n    //eslint-disable-next-line\n  }, [adminStatus, token, isAuthenticated(), isStudentAuthenticated()]);\n\n  useEffect(() => {\n    goToRoute();\n    //eslint-disable-next-line\n  }, [activeRoute]);\n\n  return (\n    <BaseUrlProvider baseUrl={BASE_FETCH_URL}>\n        <div className=\"full-container \">\n          {activeRoute === \"adminHome\" ? (\n            <AdminRoutes />\n          ) : activeRoute === \"studentHome\" ? (\n            <StudentRoutes />\n          ) : (\n            activeRoute=== \"login\" ? (\n              <LoginRoutes />\n            ):\n            null\n          )}\n        </div>\n    </BaseUrlProvider>\n  );\n}\n\nexport default App;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACrD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,cAAc,QAAQ,sCAAsC;AAErE,SAASC,UAAU,QAAQ,4BAA4B;AAEvD,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,aAAa,MAAM,wBAAwB;AAElD,OAAOC,sBAAsB,MAAM,8CAA8C;AACjF,OAAOC,eAAe,MAAM,kCAAkC;AAE9D,OAAO,mBAAmB;AAC1B,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,cAAc,GAAG,uBAAuB;EAC9C,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGb,cAAc,CAAC,CAAC;EAExD,MAAMc,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAE9B,MAAMiB,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAClD,MAAMC,WAAW,GAAGH,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACxD,MAAME,QAAQ,GAAGJ,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAGxD,MAAMG,SAAS,GAAGzB,WAAW,CAAE,YAAY;IACvCkB,QAAQ,CAAE,IAAGF,WAAY,EAAC,CAAC;EAE/B,CAAC,EAAE,CAACE,QAAQ,EAAEF,WAAW,CAAE,CAAC;EAE5Bf,SAAS,CAAC,MAAM;IACd,IAAIsB,WAAW,KAAK,MAAM,IAAIb,eAAe,CAAC,CAAC,EAAE;MAC/CO,cAAc,CAAC,WAAW,CAAC;IAC7B,CAAC,MAAM,IAAIM,WAAW,KAAK,OAAO,IAAId,sBAAsB,CAAC,CAAC,EAAE;MAC9DQ,cAAc,CAAC,aAAa,CAAC;IAC/B,CAAC,MAAM;MACLA,cAAc,CAAC,OAAO,CAAC;IACzB;IACA;EACF,CAAC,EAAE,CAACM,WAAW,EAAEJ,KAAK,EAAET,eAAe,CAAC,CAAC,EAAED,sBAAsB,CAAC,CAAC,CAAC,CAAC;EAErER,SAAS,CAAC,MAAM;IACdwB,SAAS,CAAC,CAAC;IACX;EACF,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;EAEjB,oBACEJ,OAAA,CAACT,eAAe;IAACuB,OAAO,EAAEX,cAAe;IAAAY,QAAA,eACrCf,OAAA;MAAKgB,SAAS,EAAC,iBAAiB;MAAAD,QAAA,EAC7BX,WAAW,KAAK,WAAW,gBAC1BJ,OAAA,CAACL,WAAW;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GACbhB,WAAW,KAAK,aAAa,gBAC/BJ,OAAA,CAACJ,aAAa;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GAEjBhB,WAAW,KAAI,OAAO,gBACpBJ,OAAA,CAACN,WAAW;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GAEjB;IACD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACO,CAAC;AAEtB;AAAClB,EAAA,CAhDQD,GAAG;EAAA,QAE8BT,cAAc,EAErCF,WAAW;AAAA;AAAA+B,EAAA,GAJrBpB,GAAG;AAkDZ,eAAeA,GAAG;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}