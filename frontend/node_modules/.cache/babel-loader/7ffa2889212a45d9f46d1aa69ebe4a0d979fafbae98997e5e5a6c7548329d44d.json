{"ast":null,"code":"var _jsxFileName = \"/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/utils/providers/activeClassroom.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getActiveClassroom } from '../../services/admin/classroom';\nimport { useBaseUrl } from './urlprovider';\nimport isAuthenticated from '../authentication/adminauth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ActiveClassroomContext = /*#__PURE__*/createContext();\nexport const ActiveClassroomProvider = ({\n  children\n}) => {\n  _s();\n  const [activeClassroom, setActiveClassroom] = useState(null);\n  const baseURL = useBaseUrl();\n  const token = window.localStorage.getItem(\"token\");\n  const username = window.localStorage.getItem(\"username\");\n  const isAdmin = window.localStorage.getItem(\"admin\");\n  useEffect(() => {\n    const fetchActiveClassroom = async () => {\n      try {\n        if (isAuthenticated() && isAdmin) {\n          const result = await getActiveClassroom(baseURL, token, username);\n          if (result) {\n            setActiveClassroom(result);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching active classroom:', error);\n      }\n    };\n    fetchActiveClassroom();\n  }, [baseURL, token, username, setActiveClassroom, isAdmin]);\n  return /*#__PURE__*/_jsxDEV(ActiveClassroomContext.Provider, {\n    value: {\n      activeClassroom,\n      setActiveClassroom\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(ActiveClassroomProvider, \"sKIOwH7WlH5teTcwjJr75fMd/oQ=\", false, function () {\n  return [useBaseUrl];\n});\n_c = ActiveClassroomProvider;\nexport const useActiveClassroom = () => {\n  _s2();\n  const context = useContext(ActiveClassroomContext);\n  if (!context) {\n    throw new Error('useActiveClassroom must be used within an ActiveClassroomProvider');\n  }\n  return context;\n};\n_s2(useActiveClassroom, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"ActiveClassroomProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","getActiveClassroom","useBaseUrl","isAuthenticated","jsxDEV","_jsxDEV","ActiveClassroomContext","ActiveClassroomProvider","children","_s","activeClassroom","setActiveClassroom","baseURL","token","window","localStorage","getItem","username","isAdmin","fetchActiveClassroom","result","error","console","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useActiveClassroom","_s2","context","Error","$RefreshReg$"],"sources":["/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/utils/providers/activeClassroom.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getActiveClassroom } from '../../services/admin/classroom'\nimport { useBaseUrl } from './urlprovider';\nimport isAuthenticated from '../authentication/adminauth';\n\n\nconst ActiveClassroomContext = createContext();\n\nexport const ActiveClassroomProvider = ({ children }) => {\n  const [activeClassroom, setActiveClassroom] = useState(null);\n\n  const baseURL = useBaseUrl();\n  const token = window.localStorage.getItem(\"token\");\n  const username = window.localStorage.getItem(\"username\");\n  const isAdmin = window.localStorage.getItem(\"admin\");\n\n  useEffect(() => {\n    const fetchActiveClassroom = async () => {\n      try {\n        if(isAuthenticated() && isAdmin){\n          const result = await getActiveClassroom(baseURL, token, username);\n          if(result) {\n            setActiveClassroom(result);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching active classroom:', error);\n      }\n    };\n  \n    fetchActiveClassroom();\n  }, [baseURL, token, username, setActiveClassroom, isAdmin]);\n\n  return (\n    <ActiveClassroomContext.Provider value={{ activeClassroom, setActiveClassroom }}>\n      {children}\n    </ActiveClassroomContext.Provider>\n  );\n};\n\nexport const useActiveClassroom = () => {\n  const context = useContext(ActiveClassroomContext);\n  if (!context) {\n    throw new Error('useActiveClassroom must be used within an ActiveClassroomProvider');\n  }\n  return context;\n};"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,UAAU,QAAQ,eAAe;AAC1C,OAAOC,eAAe,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG1D,MAAMC,sBAAsB,gBAAGT,aAAa,CAAC,CAAC;AAE9C,OAAO,MAAMU,uBAAuB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE5D,MAAMa,OAAO,GAAGV,UAAU,CAAC,CAAC;EAC5B,MAAMW,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAClD,MAAMC,QAAQ,GAAGH,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACxD,MAAME,OAAO,GAAGJ,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEpDhB,SAAS,CAAC,MAAM;IACd,MAAMmB,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAI;QACF,IAAGhB,eAAe,CAAC,CAAC,IAAIe,OAAO,EAAC;UAC9B,MAAME,MAAM,GAAG,MAAMnB,kBAAkB,CAACW,OAAO,EAAEC,KAAK,EAAEI,QAAQ,CAAC;UACjE,IAAGG,MAAM,EAAE;YACTT,kBAAkB,CAACS,MAAM,CAAC;UAC5B;QACF;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF,CAAC;IAEDF,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACP,OAAO,EAAEC,KAAK,EAAEI,QAAQ,EAAEN,kBAAkB,EAAEO,OAAO,CAAC,CAAC;EAE3D,oBACEb,OAAA,CAACC,sBAAsB,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEd,eAAe;MAAEC;IAAmB,CAAE;IAAAH,QAAA,EAC7EA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACsB,CAAC;AAEtC,CAAC;AAACnB,EAAA,CA9BWF,uBAAuB;EAAA,QAGlBL,UAAU;AAAA;AAAA2B,EAAA,GAHftB,uBAAuB;AAgCpC,OAAO,MAAMuB,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtC,MAAMC,OAAO,GAAGlC,UAAU,CAACQ,sBAAsB,CAAC;EAClD,IAAI,CAAC0B,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,mEAAmE,CAAC;EACtF;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,GAAA,CANWD,kBAAkB;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}