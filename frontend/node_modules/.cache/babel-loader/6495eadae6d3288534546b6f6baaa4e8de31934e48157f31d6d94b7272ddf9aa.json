{"ast":null,"code":"import axios from 'axios';\nimport { CustomError } from \"../../utils/errors\";\nconst getClasses = async (baseURL, token, classroom_name) => {\n  try {\n    const response = await fetch(`${baseURL}/findclasses?classroom_name=${classroom_name}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    if (!response.ok) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.classes;\n  } catch (err) {\n    console.error('Error fetching classes:', err);\n    throw new CustomError(`Getting classes failed: ${err.message}`);\n  }\n};\nconst deleteClass = async (baseURL, token, class_id) => {\n  try {\n    const response = await axios.delete(`${baseURL}/deleteclass`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      data: {\n        class_id: class_id\n      }\n    });\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    return;\n  } catch (error) {\n    console.error('Error deleting class:', error);\n    throw new CustomError(`Deleting class failed: ${error.message}`);\n  }\n};\nconst createClass = async (baseURL, token, classroom_name, name) => {\n  try {\n    const response = await axios.post(`${baseURL}/addclass`, {\n      classroom_name: classroom_name,\n      name: name\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    return;\n  } catch (error) {\n    console.error('Error creating class:', error);\n    throw new CustomError(`Creating class failed: ${error.message}`);\n  }\n};\nconst setSharedClass = async (baseURL, token, classroom_name, class_id) => {\n  try {\n    const response = await axios.put(`${baseURL}/setsharedclass`, {\n      classroom_name: classroom_name,\n      class_id: class_id\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    return;\n  } catch (error) {\n    console.error('Error setting shared class:', error);\n    throw new CustomError(`Setting shared class failed: ${error.message}`);\n  }\n};\nconst getSharedClass = async (baseURL, token, classroom_name) => {\n  try {\n    const response = await axios.get(`${baseURL}/getsharedclass`, {\n      params: {\n        classroom_name: classroom_name\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    const data = response.data;\n    return data.shared_id;\n  } catch (error) {\n    console.error('Error fetching shared class:', error);\n    throw new CustomError(`Fetching shared class failed: ${error.message}`);\n  }\n};\nconst getClass = async (baseURL, token, class_id) => {\n  try {\n    const response = await axios.get(`${baseURL}/findclass`, {\n      params: {\n        class_id: class_id\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    return data.class;\n  } catch (error) {\n    console.error('Error fetching class:', error);\n    throw new CustomError(`Fetching class failed: ${error.message}`);\n  }\n};\nexport { getClasses, deleteClass, createClass, getSharedClass, setSharedClass, getClass };","map":{"version":3,"names":["axios","CustomError","getClasses","baseURL","token","classroom_name","response","fetch","method","headers","ok","status","data","json","classes","err","console","error","message","deleteClass","class_id","delete","createClass","name","post","setSharedClass","put","getSharedClass","get","params","shared_id","getClass","class"],"sources":["/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/services/admin/class.js"],"sourcesContent":["import axios from 'axios';\nimport { CustomError } from \"../../utils/errors\";\n\n\nconst getClasses = async (baseURL, token, classroom_name) => {\n  try {\n      const response = await fetch(`${baseURL}/findclasses?classroom_name=${classroom_name}`, {\n          method: 'GET',\n          headers: {\n             'Authorization': `Bearer ${token}`\n          }\n      });\n\n      if (!response.ok) {\n          throw new CustomError(`HTTP error! Status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.classes;\n  } catch(err) {\n      console.error('Error fetching classes:', err);\n      throw new CustomError(`Getting classes failed: ${err.message}`);\n  }\n}\n  \n  const deleteClass = async (baseURL, token, class_id) => {\n    try {\n      const response = await axios.delete(`${baseURL}/deleteclass`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n        data: {\n          class_id: class_id,\n        },\n      });\n  \n      if (!response.status === 200) {\n        throw new CustomError(`HTTP error! Status: ${response.status}`);\n      }\n  \n      return;\n    } catch (error) {\n      console.error('Error deleting class:', error);\n      throw new CustomError(`Deleting class failed: ${error.message}`);\n    }\n  };\n  \n  const createClass = async (baseURL, token, classroom_name, name) => {\n    try {\n      const response = await axios.post(`${baseURL}/addclass`, {\n        classroom_name: classroom_name,\n        name: name,\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n  \n      if (!response.status === 200) {\n        throw new CustomError(`HTTP error! Status: ${response.status}`);\n      }\n  \n      return;\n    } catch (error) {\n      console.error('Error creating class:', error);\n      throw new CustomError(`Creating class failed: ${error.message}`);\n    }\n  };\n  \n  const setSharedClass = async (baseURL, token, classroom_name, class_id) => {\n    try {\n      const response = await axios.put(`${baseURL}/setsharedclass`, {\n        classroom_name: classroom_name,\n        class_id: class_id,\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n  \n      if (!response.status === 200) {\n        throw new CustomError(`HTTP error! Status: ${response.status}`);\n      }\n  \n      return;\n    } catch (error) {\n      console.error('Error setting shared class:', error);\n      throw new CustomError(`Setting shared class failed: ${error.message}`);\n    }\n  };\n  \n  const getSharedClass = async (baseURL, token, classroom_name) => {\n    try {\n      const response = await axios.get(`${baseURL}/getsharedclass`, {\n        params: {\n          classroom_name: classroom_name,\n        },\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n  \n      if (!response.status === 200) {\n        throw new CustomError(`HTTP error! Status: ${response.status}`);\n      }\n  \n      const data = response.data;\n      return data.shared_id;\n    } catch (error) {\n      console.error('Error fetching shared class:', error);\n      throw new CustomError(`Fetching shared class failed: ${error.message}`);\n    }\n  };\n  \n  const getClass = async (baseURL, token, class_id) => {\n    try {\n      const response = await axios.get(`${baseURL}/findclass`, {\n        params: {\n          class_id: class_id,\n        },\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n  \n      const data = response.data;\n  \n      if (!response.status === 200) {\n        throw new CustomError(`${data.message}`, response.status);\n      }\n  \n      return data.class;\n    } catch (error) {\n      console.error('Error fetching class:', error);\n      throw new CustomError(`Fetching class failed: ${error.message}`);\n    }\n  };\n\n\nexport {getClasses, deleteClass, createClass, getSharedClass, setSharedClass, getClass};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}