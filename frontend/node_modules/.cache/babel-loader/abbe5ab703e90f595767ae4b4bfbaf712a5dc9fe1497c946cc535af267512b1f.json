{"ast":null,"code":"import axios from 'axios';\nimport CustomError from '../utils/errors';\nconst studentLogin = async (baseURL, classroom_name, username) => {\n  try {\n    const response = await axios.post(`${baseURL}/studentlogin`, {\n      classroom_name,\n      username\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    window.localStorage.setItem(\"token\", data.token);\n    window.localStorage.setItem(\"username\", data.username);\n    window.localStorage.setItem(\"classroom_name\", data.classroom_name);\n    window.localStorage.setItem(\"admin\", data.admin);\n    return;\n  } catch (error) {\n    throw new CustomError(`${error.message}`);\n  }\n};\nconst getStudentTodos = async (baseURL, token, class_id, username) => {\n  if (class_id) {\n    try {\n      const response = await axios.get(`${baseURL}/getstudenttodos`, {\n        params: {\n          username,\n          class_id\n        },\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = response.data;\n      if (!response.status === 200) {\n        throw new CustomError(`${data.message}`, response.status);\n      }\n      return data;\n    } catch (error) {\n      throw new CustomError(`${error.message}`, error.status);\n    }\n  } else {\n    console.error(\"No class id\");\n  }\n};\nconst updateTodoComplete = async (baseURL, token, student_todo_id, completed) => {\n  try {\n    const updates = {\n      completed: completed\n    };\n    return await updateTodo(baseURL, token, student_todo_id, updates);\n  } catch (err) {\n    console.error('Error updating todo completion status:', err);\n    throw new CustomError(`Updating todo completion status failed: ${err.message}`);\n  }\n};\nconst updateTodo = async (baseURL, token, student_todo_id, updates) => {\n  try {\n    const response = await axios.put(`${baseURL}/updatestudenttodo`, {\n      student_todo_id: student_todo_id,\n      updates: updates\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n    return;\n  } catch (err) {\n    console.error('Error updating todos:', err);\n    throw new CustomError(`Updating todos failed: ${err.message}`);\n  }\n};\nconst getStudents = async (baseURL, token, classroom_name) => {\n  try {\n    const response = await axios.get(`${baseURL}/getclassroomstudents`, {\n      params: {\n        classroom_name\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    return data;\n  } catch (err) {\n    console.error('Error getting students:', err);\n    throw new CustomError(`Getting students failed: ${err.message}`);\n  }\n};\nconst deleteStudent = async (baseURL, token, username) => {\n  try {\n    const response = await axios.delete(`${baseURL}/deletestudent`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      data: {\n        username: username\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    return;\n  } catch (err) {\n    console.error('Error deleting student:', err);\n    throw new CustomError(`Deleting student failed: ${err.message}`);\n  }\n};\nconst getStudent = async (baseURL, token, username) => {\n  try {\n    const response = await axios.get(`${baseURL}/getstudent`, {\n      params: {\n        username\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    return data;\n  } catch (err) {\n    console.error('Error getting students:', err);\n    throw new CustomError(`Getting students failed: ${err.message}`);\n  }\n};\nconst setName = async (baseURL, token, username, name) => {\n  try {\n    const response = await axios.put(`${baseURL}/setstudentname`, {\n      username,\n      name\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = response.data;\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n    return;\n  } catch (err) {\n    console.error('Error setting name:', err);\n    throw new CustomError(`Setting name failed: ${err.message}`);\n  }\n};\nexport { studentLogin, getStudentTodos, updateTodoComplete, getStudents, deleteStudent, getStudent, setName };","map":{"version":3,"names":["axios","CustomError","studentLogin","baseURL","classroom_name","username","response","post","headers","data","status","message","window","localStorage","setItem","token","admin","error","getStudentTodos","class_id","get","params","console","updateTodoComplete","student_todo_id","completed","updates","updateTodo","err","put","getStudents","deleteStudent","delete","getStudent","setName","name"],"sources":["/Users/onnivitikainen/Desktop/online-todolist-v2/frontend/src/services/student/student.js"],"sourcesContent":["import axios from 'axios';\nimport CustomError from '../utils/errors';\n\nconst studentLogin = async (baseURL, classroom_name, username) => {\n  try {\n    const response = await axios.post(`${baseURL}/studentlogin`, {\n      classroom_name,\n      username,\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    const data = response.data;\n\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n\n    window.localStorage.setItem(\"token\", data.token);\n    window.localStorage.setItem(\"username\", data.username);\n    window.localStorage.setItem(\"classroom_name\", data.classroom_name);\n    window.localStorage.setItem(\"admin\", data.admin);\n\n    return;\n\n  } catch (error) {\n    throw new CustomError(`${error.message}`);\n  }\n};\n\nconst getStudentTodos = async (baseURL, token, class_id, username) => {\n  if (class_id) {\n    try {\n      const response = await axios.get(`${baseURL}/getstudenttodos`, {\n        params: {\n          username,\n          class_id,\n        },\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      const data = response.data;\n\n      if (!response.status === 200) {\n        throw new CustomError(`${data.message}`, response.status);\n      }\n\n      return data;\n\n    } catch (error) {\n      throw new CustomError(`${error.message}`, error.status);\n    }\n  } else {\n    console.error(\"No class id\");\n  }\n};\n\nconst updateTodoComplete = async (baseURL, token, student_todo_id, completed) => {\n  try {\n    const updates = { completed: completed };\n    return await updateTodo(baseURL, token, student_todo_id, updates);\n  } catch (err) {\n    console.error('Error updating todo completion status:', err);\n    throw new CustomError(`Updating todo completion status failed: ${err.message}`);\n  }\n};\n\nconst updateTodo = async (baseURL, token, student_todo_id, updates) => {\n  try {\n    const response = await axios.put(`${baseURL}/updatestudenttodo`, {\n      student_todo_id: student_todo_id,\n      updates: updates,\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.status === 200) {\n      throw new CustomError(`HTTP error! Status: ${response.status}`);\n    }\n\n    return;\n\n  } catch (err) {\n    console.error('Error updating todos:', err);\n    throw new CustomError(`Updating todos failed: ${err.message}`);\n  }\n};\n\nconst getStudents = async (baseURL, token, classroom_name) => {\n  try {\n    const response = await axios.get(`${baseURL}/getclassroomstudents`, {\n      params: {\n        classroom_name,\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    const data = response.data;\n\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n\n    return data;\n\n  } catch (err) {\n    console.error('Error getting students:', err);\n    throw new CustomError(`Getting students failed: ${err.message}`);\n  }\n};\n\nconst deleteStudent = async (baseURL, token, username) => {\n  try {\n    const response = await axios.delete(`${baseURL}/deletestudent`, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      data: {\n        username: username,\n      },\n    });\n\n    const data = response.data;\n\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n\n    return;\n\n  } catch (err) {\n    console.error('Error deleting student:', err);\n    throw new CustomError(`Deleting student failed: ${err.message}`);\n  }\n};\n\nconst getStudent = async (baseURL, token, username) => {\n  try {\n    const response = await axios.get(`${baseURL}/getstudent`, {\n      params: {\n        username,\n      },\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    const data = response.data;\n\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n\n    return data;\n\n  } catch (err) {\n    console.error('Error getting students:', err);\n    throw new CustomError(`Getting students failed: ${err.message}`);\n  }\n};\n\nconst setName = async (baseURL, token, username, name) => {\n  try {\n    const response = await axios.put(`${baseURL}/setstudentname`, {\n      username,\n      name,\n    }, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    const data = response.data;\n\n    if (!response.status === 200) {\n      throw new CustomError(`${data.message}`, response.status);\n    }\n\n    return;\n\n  } catch (err) {\n    console.error('Error setting name:', err);\n    throw new CustomError(`Setting name failed: ${err.message}`);\n  }\n};\n\nexport {\n    studentLogin,\n    getStudentTodos,\n    updateTodoComplete,\n    getStudents,\n    deleteStudent,\n    getStudent,\n    setName\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}